@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles for Coffee Rooom */
html,
body {
  @apply bg-cafe-cream text-cafe-charcoal;
  font-family: 'Inter', sans-serif;
  overflow-x: hidden;
  max-width: 100vw;
}

/* Prevent overscroll/bounce on iPad */
html {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Remove tap highlight on iPad */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Selection color matching brand */
::selection {
  background-color: #6F4E37;
  color: #FAF9F6;
}

/* ============================================
   Shared Component Styles
   Single source of truth for repeated patterns
   ============================================ */

/* Modifier/input labels (Milk, Temperature, Your Name) */
.label-modifier {
  @apply font-sans text-sm uppercase tracking-wide text-cafe-charcoal/60;
}

/* Small descriptive text */
.text-description {
  @apply font-sans text-cafe-charcoal/60;
}

/* Primary action button (coffee brown) */
.btn-primary {
  @apply h-16 rounded-xl font-sans font-semibold text-xl uppercase tracking-wide;
  @apply bg-cafe-coffee text-cafe-cream;
  @apply transition-colors;
}

.btn-primary:disabled {
  @apply bg-cafe-charcoal/20 text-cafe-charcoal/40 cursor-not-allowed;
}

/* Modifier option text (buttons like "Regular"/"Oat" and name input) */
.text-modifier-option {
  @apply font-sans font-semibold text-lg;
}

/* Unavailable/sold-out item state */
.item-unavailable {
  @apply opacity-50;
}

/* ============================================
   Modal & Form Shared Styles
   Ensures consistency across all modal forms
   ============================================ */

/* Modal title (h2) */
.modal-title {
  @apply font-serif text-2xl text-cafe-coffee pr-12 mb-2;
}

/* Modal description text */
.modal-description {
  @apply text-description text-sm mb-6;
}

/* Standard form input */
.input-form {
  @apply w-full h-16 px-6 text-modifier-option text-cafe-charcoal bg-white rounded-xl;
  @apply border border-cafe-charcoal/10 focus:border-cafe-coffee focus:outline-none transition-colors;
}

/* Form select dropdown */
.select-form {
  @apply w-full h-16 px-6 pr-12 text-modifier-option text-cafe-charcoal bg-white rounded-xl;
  @apply border border-cafe-charcoal/10 focus:border-cafe-coffee focus:outline-none transition-colors;
  @apply appearance-none cursor-pointer;
}

/* Secondary button (Cancel, etc.) */
.btn-secondary {
  @apply h-12 rounded-xl font-sans font-semibold;
  @apply text-cafe-charcoal/60 bg-cafe-charcoal/5 hover:bg-cafe-charcoal/10 transition-colors;
}

/* Modal action button (Save, Create - smaller than btn-primary) */
.btn-modal-action {
  @apply h-12 rounded-xl font-sans font-semibold;
  @apply text-cafe-cream bg-cafe-coffee hover:bg-cafe-coffee/90 transition-colors;
}

.btn-modal-action:disabled {
  @apply bg-cafe-charcoal/20 text-cafe-charcoal/40 cursor-not-allowed;
}

/* Admin section inline add button (smaller, used in headers) */
.btn-admin-add {
  @apply px-4 py-2 min-h-[44px] rounded-lg;
  @apply font-sans font-semibold text-sm;
  @apply text-cafe-cream bg-cafe-coffee hover:bg-cafe-coffee/90;
  @apply transition-colors whitespace-nowrap shrink-0;
}

/* Error banner */
.error-banner {
  @apply bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm;
}

/* Checkbox styling */
.checkbox-form {
  @apply w-[18px] h-[18px] rounded border-2 border-cafe-charcoal/20;
  @apply text-cafe-coffee focus:ring-cafe-coffee focus:ring-offset-0 cursor-pointer;
}

/* Checkbox label row */
.checkbox-label {
  @apply flex items-center gap-3 cursor-pointer;
}

.checkbox-label span {
  @apply font-sans font-semibold text-base text-cafe-charcoal;
  @apply group-hover:text-cafe-coffee transition-colors;
}

/* Date input styling - override webkit default blue color */
.date-input {
  color: #2D2D2D; /* cafe-charcoal */
  -webkit-text-fill-color: #2D2D2D;
}

.date-input::-webkit-datetime-edit,
.date-input::-webkit-datetime-edit-fields-wrapper,
.date-input::-webkit-datetime-edit-month-field,
.date-input::-webkit-datetime-edit-day-field,
.date-input::-webkit-datetime-edit-year-field {
  color: #2D2D2D;
  -webkit-text-fill-color: #2D2D2D;
}

/* Calendar picker icon - match brand color */
.date-input::-webkit-calendar-picker-indicator {
  cursor: pointer;
  opacity: 0.6;
}

.date-input::-webkit-calendar-picker-indicator:hover {
  opacity: 1;
}

/* ============================================
   Calendar (react-day-picker) Brand Styles
   ============================================ */

.cafe-calendar .rdp-root {
  --rdp-accent-color: #6F4E37;
  --rdp-accent-background-color: #6F4E37;
  --rdp-day_button-height: 36px;
  --rdp-day_button-width: 36px;
  font-family: 'Inter', sans-serif;
  font-size: 14px;
}

.cafe-calendar .rdp-selected .rdp-day_button {
  background-color: #6F4E37;
  color: #FAF9F6;
  border-radius: 8px;
}

.cafe-calendar .rdp-today:not(.rdp-selected) .rdp-day_button {
  font-weight: 700;
  color: #6F4E37;
}

.cafe-calendar .rdp-day_button:hover:not(.rdp-selected .rdp-day_button) {
  background-color: rgba(111, 78, 55, 0.1);
  border-radius: 8px;
}

.cafe-calendar .rdp-chevron {
  fill: #6F4E37;
}

.cafe-calendar .rdp-month_caption {
  font-weight: 600;
  color: #2D2D2D;
}

.cafe-calendar .rdp-weekday {
  color: #9B9590;
  font-weight: 500;
  font-size: 12px;
}

.cafe-calendar .rdp-disabled .rdp-day_button {
  opacity: 0.3;
}

/* ============================================
   Landing Page — Editorial Warmth
   ============================================ */

/* Grain texture overlay via inline SVG noise */
.grain-overlay::after {
  content: '';
  position: fixed;
  inset: 0;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
  pointer-events: none;
  z-index: 1;
}

/* Steam wisps — three staggered lines */
@keyframes steam-rise {
  0% {
    opacity: 0;
    transform: translateY(0) translateX(0) scaleX(1);
  }
  15% {
    opacity: 0.25;
  }
  50% {
    opacity: 0.15;
    transform: translateY(-18px) translateX(3px) scaleX(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-36px) translateX(-2px) scaleX(0.8);
  }
}

.steam-line {
  position: absolute;
  width: 2px;
  height: 14px;
  background: currentColor;
  border-radius: 1px;
  opacity: 0;
  animation: steam-rise 3s ease-out infinite;
}

.steam-line:nth-child(1) {
  left: 35%;
  animation-delay: 0s;
}

.steam-line:nth-child(2) {
  left: 50%;
  animation-delay: 0.5s;
}

.steam-line:nth-child(3) {
  left: 65%;
  animation-delay: 1s;
}

/* Shimmer sweep on CTA button */
.btn-shimmer {
  position: relative;
  overflow: hidden;
}

.btn-shimmer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    110deg,
    transparent 25%,
    rgba(255, 255, 255, 0.12) 50%,
    transparent 75%
  );
  background-size: 200% 100%;
  background-position: 200% 0;
  transition: background-position 0.8s ease;
}

.btn-shimmer:hover::after {
  background-position: -200% 0;
}
